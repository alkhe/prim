!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.prim=r()}}(function(){var define,module,exports;return function r(t,e,n){function u(o,c){if(!e[o]){if(!t[o]){var a="function"==typeof require&&require;if(!c&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var s=e[o]={exports:{}};t[o][0].call(s.exports,function(r){var e=t[o][1][r];return u(e?e:r)},s,s.exports,r,t,e,n)}return e[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)u(n[o]);return u}({1:[function(r,t){t.exports=function(){function r(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}function t(r,t,e,n,u,i){this.message=r,this.expected=t,this.found=e,this.offset=n,this.line=u,this.column=i,this.name="SyntaxError"}function e(r){function e(t){function e(t,e,n){var u,i;for(u=e;n>u;u++)i=r.charAt(u),"\n"===i?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return ve!==t&&(ve>t&&(ve=0,Ae={line:1,column:1,seenCR:!1}),e(Ae,ve,t),ve=t),Ae}function n(r){Ce>he||(he>Ce&&(Ce=he,ye=[]),ye.push(r))}function u(n,u,i){function o(r){var t=1;for(r.sort(function(r,t){return r.description<t.description?-1:r.description>t.description?1:0});t<r.length;)r[t-1]===r[t]?r.splice(t,1):t++}function c(r,t){function e(r){function t(r){return r.charCodeAt(0).toString(16).toUpperCase()}return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(r){return"\\x0"+t(r)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(r){return"\\x"+t(r)}).replace(/[\u0180-\u0FFF]/g,function(r){return"\\u0"+t(r)}).replace(/[\u1080-\uFFFF]/g,function(r){return"\\u"+t(r)})}var n,u,i,o=new Array(r.length);for(i=0;i<r.length;i++)o[i]=r[i].description;return n=r.length>1?o.slice(0,-1).join(", ")+" or "+o[r.length-1]:o[0],u=t?'"'+e(t)+'"':"end of input","Expected "+n+" but "+u+" found."}var a=e(i),f=i<r.length?r.charAt(i):null;return null!==u&&o(u),new t(null!==n?n:c(u,f),u,f,i,a.line,a.column)}function i(){var r,t,e,n;return r=he,t=B(),t!==V?(e=o(),e!==V?(n=B(),n!==V?(Fe=r,t=k(e),r=t):(he=r,r=Z)):(he=r,r=Z)):(he=r,r=Z),r}function o(){var t,e,u,i,c,a,f;return t=he,e=h(),e!==V?(u=B(),u!==V?(i=he,37===r.charCodeAt(he)?(c=N,he++):(c=V,0===ge&&n(I)),c!==V?(a=B(),a!==V?(f=o(),f===V&&(f=L),f!==V?(Fe=i,c=k(f),i=c):(he=i,i=Z)):(he=i,i=Z)):(he=i,i=Z),i===V&&(i=he,37===r.charCodeAt(he)?(c=N,he++):(c=V,0===ge&&n(I)),c===V&&(c=L),c!==V&&(Fe=i,c=P()),i=c),i!==V?(Fe=t,e=T(e,i),t=e):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z),t}function c(){var r;return r=a(),r===V&&(r=p(),r===V&&(r=l())),r}function a(){var r,t,e,n;return r=he,t=g(),t!==V?(e=B(),e!==V?(n=f(),n!==V?(Fe=r,t=G(t,n),r=t):(he=r,r=Z)):(he=r,r=Z)):(he=r,r=Z),r}function f(){var r,t,e,n;return r=he,t=s(),t!==V?(e=B(),e!==V?(n=f(),n!==V?(Fe=r,t=H(t,n),r=t):(he=r,r=Z)):(he=r,r=Z)):(he=r,r=Z),r===V&&(r=he,t=_(),t!==V&&(Fe=r,t=J()),r=t),r}function s(){var t,e;return t=he,e=d(),e!==V&&(Fe=t,e=K(e)),t=e,t===V&&(t=he,e=F(),e!==V&&(Fe=t,e=Q(e)),t=e,t===V&&(t=he,47===r.charCodeAt(he)?(e=W,he++):(e=V,0===ge&&n(X)),e!==V&&(Fe=t,e=Y()),t=e)),t}function l(){var t,e,u,i;if(t=he,39===r.charCodeAt(he)?(e=$,he++):(e=V,0===ge&&n(rt)),e!==V){for(u=[],i=w();i!==V;)u.push(i),i=w();u!==V?(39===r.charCodeAt(he)?(i=$,he++):(i=V,0===ge&&n(rt)),i!==V?(Fe=t,e=tt(u),t=e):(he=t,t=Z)):(he=t,t=Z)}else he=t,t=Z;if(t===V)if(t=he,34===r.charCodeAt(he)?(e=et,he++):(e=V,0===ge&&n(nt)),e!==V){for(u=[],i=E();i!==V;)u.push(i),i=E();u!==V?(34===r.charCodeAt(he)?(i=et,he++):(i=V,0===ge&&n(nt)),i!==V?(Fe=t,e=tt(u),t=e):(he=t,t=Z)):(he=t,t=Z)}else he=t,t=Z;return t}function p(){var t,e,u,i,o,c,a;if(t=he,e=q(),e!==V)if(u=B(),u!==V)if(123===r.charCodeAt(he)?(i=ut,he++):(i=V,0===ge&&n(it)),i!==V){for(o=[],c=j();c!==V;)o.push(c),c=j();o!==V?(125===r.charCodeAt(he)?(c=ot,he++):(c=V,0===ge&&n(ct)),c===V&&(c=he,ge++,37===r.charCodeAt(he)?(a=N,he++):(a=V,0===ge&&n(I)),ge--,a!==V?(he=c,c=at):c=Z),c!==V?(Fe=t,e=ft(o),t=e):(he=t,t=Z)):(he=t,t=Z)}else he=t,t=Z;else he=t,t=Z;else he=t,t=Z;return t}function d(){var t,e,u,i,o,c,a;if(t=he,123===r.charCodeAt(he)?(e=ut,he++):(e=V,0===ge&&n(it)),e!==V?(u=B(),u!==V?(i=h(),i!==V?(o=B(),o!==V?(125===r.charCodeAt(he)?(c=ot,he++):(c=V,0===ge&&n(ct)),c===V&&(c=he,ge++,37===r.charCodeAt(he)?(a=N,he++):(a=V,0===ge&&n(I)),ge--,a!==V?(he=c,c=at):c=Z),c!==V?(Fe=t,e=st(i),t=e):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z),t===V)if(t=he,124===r.charCodeAt(he)?(e=lt,he++):(e=V,0===ge&&n(pt)),e!==V){for(u=[],i=R();i!==V;)u.push(i),i=R();u!==V?(124===r.charCodeAt(he)?(i=lt,he++):(i=V,0===ge&&n(pt)),i===V&&(i=he,ge++,37===r.charCodeAt(he)?(o=N,he++):(o=V,0===ge&&n(I)),ge--,o!==V?(he=i,i=at):i=Z),i!==V?(Fe=t,e=tt(u),t=e):(he=t,t=Z)):(he=t,t=Z)}else he=t,t=Z;return t}function h(){var r,t,e,n,u;return r=he,t=c(),t!==V?(e=he,n=B(),n!==V?(u=h(),u!==V?(Fe=e,n=st(u),e=n):(he=e,e=Z)):(he=e,e=Z),e===V&&(e=he,n=_(),n!==V&&(Fe=e,n=P()),e=n),e!==V?(Fe=r,t=dt(t,e),r=t):(he=r,r=Z)):(he=r,r=Z),r===V&&(r=_()),r}function F(){var t,e,u,i,o,c;return t=he,40===r.charCodeAt(he)?(e=ht,he++):(e=V,0===ge&&n(Ft)),e!==V?(u=B(),u!==V?(i=v(),i!==V?(o=B(),o!==V?(41===r.charCodeAt(he)?(c=vt,he++):(c=V,0===ge&&n(At)),c!==V?(Fe=t,e=Ct(i),t=e):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z),t===V&&(t=he,40===r.charCodeAt(he)?(e=ht,he++):(e=V,0===ge&&n(Ft)),e!==V?(u=B(),u!==V?(41===r.charCodeAt(he)?(i=vt,he++):(i=V,0===ge&&n(At)),i!==V?(Fe=t,e=P(),t=e):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z)),t}function v(){var r,t,e,n;return r=he,t=A(),t!==V?(e=B(),e!==V?(n=v(),n!==V?(Fe=r,t=yt(t,n),r=t):(he=r,r=Z)):(he=r,r=Z)):(he=r,r=Z),r===V&&(r=A()),r}function A(){var t,e,u,i,o,c;return t=he,e=g(),e!==V?(u=B(),u!==V?(61===r.charCodeAt(he)?(i=gt,he++):(i=V,0===ge&&n(xt)),i!==V?(o=B(),o!==V?(c=C(),c!==V?(Fe=t,e=mt(e,c),t=e):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z)):(he=t,t=Z),t===V&&(t=g()),t}function C(){var t,e,u,i,o,c,a;if(t=he,39===r.charCodeAt(he)?(e=$,he++):(e=V,0===ge&&n(rt)),e!==V){for(u=he,i=[],o=he,c=he,ge++,39===r.charCodeAt(he)?(a=$,he++):(a=V,0===ge&&n(rt)),ge--,a===V?c=at:(he=c,c=Z),c!==V?(a=y(),a!==V?(c=[c,a],o=c):(he=o,o=Z)):(he=o,o=Z);o!==V;)i.push(o),o=he,c=he,ge++,39===r.charCodeAt(he)?(a=$,he++):(a=V,0===ge&&n(rt)),ge--,a===V?c=at:(he=c,c=Z),c!==V?(a=y(),a!==V?(c=[c,a],o=c):(he=o,o=Z)):(he=o,o=Z);i!==V&&(i=r.substring(u,he)),u=i,u!==V?(39===r.charCodeAt(he)?(i=$,he++):(i=V,0===ge&&n(rt)),i!==V?(Fe=t,e=Dt(u),t=e):(he=t,t=Z)):(he=t,t=Z)}else he=t,t=Z;if(t===V)if(t=he,34===r.charCodeAt(he)?(e=et,he++):(e=V,0===ge&&n(nt)),e!==V){for(u=he,i=[],o=he,c=he,ge++,34===r.charCodeAt(he)?(a=et,he++):(a=V,0===ge&&n(nt)),ge--,a===V?c=at:(he=c,c=Z),c!==V?(a=y(),a!==V?(c=[c,a],o=c):(he=o,o=Z)):(he=o,o=Z);o!==V;)i.push(o),o=he,c=he,ge++,34===r.charCodeAt(he)?(a=et,he++):(a=V,0===ge&&n(nt)),ge--,a===V?c=at:(he=c,c=Z),c!==V?(a=y(),a!==V?(c=[c,a],o=c):(he=o,o=Z)):(he=o,o=Z);i!==V&&(i=r.substring(u,he)),u=i,u!==V?(34===r.charCodeAt(he)?(i=et,he++):(i=V,0===ge&&n(nt)),i!==V?(Fe=t,e=bt(u),t=e):(he=t,t=Z)):(he=t,t=Z)}else he=t,t=Z;return t}function y(){var t;return wt.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(Et)),t}function g(){var t,e,n,u,i;if(t=he,e=he,n=x(),n!==V){for(u=[],i=m();i!==V;)u.push(i),i=m();u!==V?(n=[n,u],e=n):(he=e,e=Z)}else he=e,e=Z;return e!==V&&(e=r.substring(t,he)),t=e}function x(){var t;return Rt.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(jt)),t}function m(){var t;return t=x(),t===V&&(qt.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(Mt))),t}function D(){var t,e,u,i;return 92===r.charCodeAt(he)?(t=_t,he++):(t=V,0===ge&&n(Bt)),t===V&&(47===r.charCodeAt(he)?(t=W,he++):(t=V,0===ge&&n(X)),t===V&&(t=he,98===r.charCodeAt(he)?(e=Ot,he++):(e=V,0===ge&&n(St)),e!==V&&(Fe=t,e=Vt()),t=e,t===V&&(t=he,102===r.charCodeAt(he)?(e=zt,he++):(e=V,0===ge&&n(Ut)),e!==V&&(Fe=t,e=Zt()),t=e,t===V&&(t=he,110===r.charCodeAt(he)?(e=kt,he++):(e=V,0===ge&&n(Nt)),e!==V&&(Fe=t,e=It()),t=e,t===V&&(t=he,114===r.charCodeAt(he)?(e=Lt,he++):(e=V,0===ge&&n(Pt)),e!==V&&(Fe=t,e=Tt()),t=e,t===V&&(t=he,116===r.charCodeAt(he)?(e=Gt,he++):(e=V,0===ge&&n(Ht)),e!==V&&(Fe=t,e=Jt()),t=e,t===V&&(t=he,117===r.charCodeAt(he)?(e=Kt,he++):(e=V,0===ge&&n(Qt)),e!==V?(u=he,i=b(),i!==V&&(i=r.substring(u,he)),u=i,u!==V?(Fe=t,e=Wt(u),t=e):(he=t,t=Z)):(he=t,t=Z)))))))),t}function b(){var t;return Xt.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(Yt)),t}function w(){var t,e,u;return $t.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(re)),t===V&&(t=he,e=M(),e!==V?(39===r.charCodeAt(he)?(u=$,he++):(u=V,0===ge&&n(rt)),u===V&&(u=D()),u!==V?(Fe=t,e=te(u),t=e):(he=t,t=Z)):(he=t,t=Z)),t}function E(){var t,e,u;return ee.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(ne)),t===V&&(t=he,e=M(),e!==V?(34===r.charCodeAt(he)?(u=et,he++):(u=V,0===ge&&n(nt)),u===V&&(u=D()),u!==V?(Fe=t,e=te(u),t=e):(he=t,t=Z)):(he=t,t=Z)),t}function R(){var t,e,u;return ue.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(ie)),t===V&&(t=he,e=M(),e!==V?(124===r.charCodeAt(he)?(u=lt,he++):(u=V,0===ge&&n(pt)),u===V&&(u=D()),u!==V?(Fe=t,e=te(u),t=e):(he=t,t=Z)):(he=t,t=Z),t===V&&(t=M())),t}function j(){var t,e,u,i;if(oe.test(r.charAt(he))?(t=r.charAt(he),he++):(t=V,0===ge&&n(ce)),t===V)if(t=he,123===r.charCodeAt(he)?(e=ut,he++):(e=V,0===ge&&n(it)),e!==V){for(u=[],i=j();i!==V;)u.push(i),i=j();u!==V?(125===r.charCodeAt(he)?(i=ot,he++):(i=V,0===ge&&n(ct)),i!==V?(Fe=t,e=ae(u),t=e):(he=t,t=Z)):(he=t,t=Z)}else he=t,t=Z;return t}function q(){var t,e;return t=he,35===r.charCodeAt(he)?(e=fe,he++):(e=V,0===ge&&n(se)),e!==V&&(e=r.substring(t,he)),t=e}function M(){var t,e;return t=he,92===r.charCodeAt(he)?(e=_t,he++):(e=V,0===ge&&n(Bt)),e!==V&&(e=r.substring(t,he)),t=e}function _(){var t,e;return t=he,e=le,e!==V&&(e=r.substring(t,he)),t=e}function B(){var t,e,u;for(t=he,e=[],pe.test(r.charAt(he))?(u=r.charAt(he),he++):(u=V,0===ge&&n(de));u!==V;)e.push(u),pe.test(r.charAt(he))?(u=r.charAt(he),he++):(u=V,0===ge&&n(de));return e!==V&&(e=r.substring(t,he)),t=e}var O,S=arguments.length>1?arguments[1]:{},V={},z={root:i},U=i,Z=V,k=function(r){return r},N="%",I={type:"literal",value:"%",description:'"%"'},L=null,P=function(){return""},T=function(r,t){return r+t},G=function(r,t){for(var e={name:r,children:"",attributes:"",selfclosing:!1},n=0;n<t.length;n++)switch(t[n][0]){case 0:e.children+=t[n][1];break;case 1:e.attributes+=t[n][1];break;case 2:e.selfclosing=!0}return e.selfclosing?"<"+e.name+e.attributes+" />":"<"+e.name+e.attributes+">"+e.children+"</"+e.name+">"},H=function(r,t){return[r].concat(t)},J=function(){return[]},K=function(r){return[0,r]},Q=function(r){return[1,r]},W="/",X={type:"literal",value:"/",description:'"/"'},Y=function(){return[2]},$="'",rt={type:"literal",value:"'",description:'"\'"'},tt=function(r){return r.join("")},et='"',nt={type:"literal",value:'"',description:'"\\""'},ut="{",it={type:"literal",value:"{",description:'"{"'},ot="}",ct={type:"literal",value:"}",description:'"}"'},at=void 0,ft=function(r){return xe(r.join(""))},st=function(r){return r},lt="|",pt={type:"literal",value:"|",description:'"|"'},dt=function(r,t){return r+t},ht="(",Ft={type:"literal",value:"(",description:'"("'},vt=")",At={type:"literal",value:")",description:'")"'},Ct=function(r){return" "+r},yt=function(r,t){return r+" "+t},gt="=",xt={type:"literal",value:"=",description:'"="'},mt=function(r,t){return r+"="+t},Dt=function(r){return"'"+r+"'"},bt=function(r){return'"'+r+'"'},wt=/^[\t\n\r -\uD7FF\uE000-\uFFFD]/,Et={type:"class",value:"[\\t\\n\\r -\\uD7FF\\uE000-\\uFFFD]",description:"[\\t\\n\\r -\\uD7FF\\uE000-\\uFFFD]"},Rt=/^[:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,jt={type:"class",value:"[:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]",description:"[:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]"},qt=/^[\-.0-9\xB7\u0300-\u036F\u203F-\u2040]/,Mt={type:"class",value:"[\\-.0-9\\xB7\\u0300-\\u036F\\u203F-\\u2040]",description:"[\\-.0-9\\xB7\\u0300-\\u036F\\u203F-\\u2040]"},_t="\\",Bt={type:"literal",value:"\\",description:'"\\\\"'},Ot="b",St={type:"literal",value:"b",description:'"b"'},Vt=function(){return"\b"},zt="f",Ut={type:"literal",value:"f",description:'"f"'},Zt=function(){return"\f"},kt="n",Nt={type:"literal",value:"n",description:'"n"'},It=function(){return"\n"},Lt="r",Pt={type:"literal",value:"r",description:'"r"'},Tt=function(){return"\r"},Gt="t",Ht={type:"literal",value:"t",description:'"t"'},Jt=function(){return"	"},Kt="u",Qt={type:"literal",value:"u",description:'"u"'},Wt=function(r){return String.fromCharCode(parseInt(r,16))},Xt=/^[0-9a-f]/i,Yt={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},$t=/^[^'\\]/,re={type:"class",value:"[^'\\\\]",description:"[^'\\\\]"},te=function(r){return r},ee=/^[^"\\]/,ne={type:"class",value:'[^"\\\\]',description:'[^"\\\\]'},ue=/^[^|\\]/,ie={type:"class",value:"[^|\\\\]",description:"[^|\\\\]"},oe=/^[^{}]/,ce={type:"class",value:"[^{}]",description:"[^{}]"},ae=function(r){return"{"+r.join("")+"}"},fe="#",se={type:"literal",value:"#",description:'"#"'},le="",pe=/^[ \t\r\n\f]/,de={type:"class",value:"[ \\t\\r\\n\\f]",description:"[ \\t\\r\\n\\f]"},he=0,Fe=0,ve=0,Ae={line:1,column:1,seenCR:!1},Ce=0,ye=[],ge=0;if("startRule"in S){if(!(S.startRule in z))throw new Error("Can't start parsing from rule \""+S.startRule+'".');U=z[S.startRule]}var xe=arguments[2];if(O=U(),O!==V&&he===r.length)return O;throw O!==V&&he<r.length&&n({type:"end",description:"end of input"}),u(null,ye,Ce)}return r(t,Error),{SyntaxError:t,parse:e}}()},{}],2:[function(require,module,exports){var prim=require("./lib/prim.js"),VM=function(o){return eval(function(){var r="";for(var t in o)o.hasOwnProperty(t)&&(r+="var "+t+"=o['"+t+"'];");return r}()),function(){return eval(arguments[0])}},EmptyVM=function(){return function(){return eval(arguments[0])}};module.exports.parse=function(r,t){return prim.parse(r,{},t?new VM(t):new EmptyVM)}},{"./lib/prim.js":1}]},{},[2])(2)});